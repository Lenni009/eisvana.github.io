import{d as k,o as g,c as f,m as r,t as J,n as Z,J as b,w as E,_ as q,h,k as c,y as A,a5 as U,a6 as K,p as B,af as X,F as ee,G as te,b as ae,e as oe,a2 as se,q as ie,s as ne,a4 as le}from"./chunks/framework.Db7SsRuA.js";import{M as re,c as de}from"./chunks/compressImage.DjUeyAB9.js";import{m as ue,S as ce,a as me,c as pe,e as C}from"./chunks/createFormData.CRIjqVL0.js";import{_ as $}from"./chunks/PicoStyle.vue_vue_type_script_setup_true_lang.DLAqzo_y.js";import"./chunks/commonjsHelpers.C4iS2aBk.js";import"./chunks/useTheme.CcmQV7f1.js";const he={class:"gallery-item"},ge=["href"],ve=["alt","src"],fe=["title"],be={class:"button-grid"},we=k({__name:"GalleryElement",props:{file:{},index:{},url:{},isUsed:{type:Boolean}},emits:["remove","insert"],setup(m){return(s,i)=>(g(),f("div",he,[r("a",{href:s.url,rel:"noopener noreferrer",target:"_blank"},[r("img",{alt:s.file.name,src:s.url},null,8,ve)],8,ge),r("p",{class:Z([{"is-unused":!s.isUsed},"file-name"]),title:s.isUsed?void 0:"Unused"},J(s.file.name),11,fe),b($,null,{default:E(()=>[r("div",be,[r("button",{class:"primary",title:"Insert",type:"button",onClick:i[0]||(i[0]=u=>s.$emit("insert"))}," ➕ "),r("button",{class:"secondary",title:"Remove",type:"button",onClick:i[1]||(i[1]=u=>s.$emit("remove"))}," ✖ ")])]),_:1})]))}}),ye=q(we,[["__scopeId","data-v-d8e391bd"]]),F=m=>(ie("data-v-7031cc69"),m=m(),ne(),m),ke=F(()=>r("label",{for:"category"},"Category or username under which the post will be listed:",-1)),_e=["maxlength"],Ie={key:0},xe=F(()=>r("p",null,"Uploaded images:",-1)),Ne={class:"gallery"},Ue=k({__name:"BlogBuilder",setup(m){const s=h(`# Hello World

This is content`),i=h([]),u=h(""),w=h(!1),P=c(()=>!s.value||!u.value),S=c(()=>i.value.map(t=>t.name)),_=c(()=>i.value.filter(t=>s.value.includes(t.name))),T=c(()=>D(_.value)),p=h([]),j=atob("aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTIwNjIxNjYxODkzNDQwNzE5OS9NNTFQal9mWHhUQl9NQW4zMTdVbE82UGlsQU0tNTVUZUNzVDYwWlA2SWxKZHhNTHRjd2IzMnRwWVNSc2Z6dHctSHk4eQo="),I=h(null);A(i,(t,e)=>{const o=t.filter(n=>!e.includes(n)),d=e.filter(n=>!t.includes(n)).map(n=>e.indexOf(n));d.forEach(n=>URL.revokeObjectURL(p.value[n]));const a=o.map(n=>URL.createObjectURL(n));p.value=p.value.filter((n,y)=>!d.includes(y)),p.value.push(...a)});function H(){const t=document.createElement("a"),e="blog.md",o=new File([s.value],e,{type:"text/plain"}),l=URL.createObjectURL(o);t.href=l,t.download=e,t.click(),URL.revokeObjectURL(l)}const M=c(()=>T.value.map(me)),O=c(()=>pe(s.value,u.value)),R=c(()=>[O.value,...M.value]);function D(t){return t.reduce((o,l,d)=>{const a=Math.floor(d/10);return(o[a]??(o[a]=[])).push(l),o},[])}const x=(t,e)=>new File([t],e,{type:t.type});async function L(t){const e={};S.value.forEach(a=>{e[a]??(e[a]=0),e[a]++});function o(a,n=0){const y=a.name.split("."),Q=y.at(-1),Y=`${y.slice(0,-1).join("_")}_${n}.${Q}`,v=n?Y:a.name,N=e[v]??(e[v]=0);return e[v]++,N?o(a,N):x(a,v)}const l=t.map(a=>x(a,C(a.name))).map(a=>o(a));w.value=!0;const d=[];for(const a of l){const n=await de(a);d.push(n)}w.value=!1,i.value=[...i.value,...d]}const z=()=>{var t;s.value="",i.value=[],(t=I.value)==null||t.reset()};function V(t){i.value=i.value.filter(e=>t!==e)}const W=c(()=>w.value?"Compressing files...":void 0),G=t=>s.value=`${s.value}
![image](/images/blogs/${C(u.value)}/${t.name})
`;return(t,e)=>(g(),f("form",{ref_key:"form",ref:I,onSubmit:e[2]||(e[2]=se(()=>{},["prevent"]))},[b($,null,{default:E(()=>[ke,U(r("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>u.value=o),maxlength:B(ue),id:"category",type:"text"},null,8,_e),[[K,u.value]])]),_:1}),U(r("div",null,[b(re,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value=o),"editor-id":"pageContent",onOnSave:H,onOnUploadImg:L},null,8,["modelValue"]),i.value.length?(g(),f("div",Ie,[xe,r("div",Ne,[(g(!0),f(ee,null,te(i.value,(o,l)=>(g(),ae(ye,{file:o,index:l,"is-used":_.value.includes(o),key:p.value[l],url:p.value[l],onRemove:d=>V(o),onInsert:d=>G(o)},null,8,["file","index","is-used","url","onRemove","onInsert"]))),128))])])):oe("",!0),b(ce,{"form-data-array":R.value,"is-busy":w.value,"is-incomplete":P.value,text:W.value,webhook:B(j),onSuccess:z},null,8,["form-data-array","is-busy","is-incomplete","text","webhook"])],512),[[X,u.value]])],544))}}),Be=q(Ue,[["__scopeId","data-v-7031cc69"]]),Ce=le('<h1 id="create-blog-post" tabindex="-1">Create Blog Post <a class="header-anchor" href="#create-blog-post" aria-label="Permalink to &quot;Create Blog Post&quot;">​</a></h1><h2 id="how-to-create-a-new-post" tabindex="-1">How To Create a New Post <a class="header-anchor" href="#how-to-create-a-new-post" aria-label="Permalink to &quot;How To Create a New Post&quot;">​</a></h2><h3 id="category" tabindex="-1">Category <a class="header-anchor" href="#category" aria-label="Permalink to &quot;Category&quot;">​</a></h3><p>Blog posts are divided into categories, or folders. You have to assign a category to your post first. The category or post itself should have some kind of reference to your name, so people know who made a blog post.</p><p>Blog posts are made from Markdown files. Below is an editor that allows you to write and preview Markdown. The editor will only appear when a category is given.</p><h3 id="content" tabindex="-1">Content <a class="header-anchor" href="#content" aria-label="Permalink to &quot;Content&quot;">​</a></h3><p>Every post should start with a level 1 heading:</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;--shiki-light-font-weight:bold;--shiki-dark-font-weight:bold;"># Heading</span></span></code></pre></div><p>This heading will also be used for the filename.</p><h3 id="images" tabindex="-1">Images <a class="header-anchor" href="#images" aria-label="Permalink to &quot;Images&quot;">​</a></h3><p>Images can be uploaded directly from the editing window. The image button is in the middle of the toolbar. From there, click &quot;Upload Img&quot;.</p><p>Images larger than 2MB will be compressed automatically, this may take some time.</p><p>When they are processed, they will appear in a gallery below the editor.</p><p>If the image name is red, that means that the image is not used in your blog post, and therefore also won&#39;t be transferred when you submit it.</p><p>You can add it to your blog post by clicking the <code>➕</code> button below the image. The <code>✖</code> button removes the image from the gallery.</p><p>Images are represented in Markdown with the following syntax: <code>![alt text](path/to/image.jpg)</code>. It is recommended to edit the alt text to a short description of what can be seen in your image.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Images won&#39;t work in the preview window. However, if the image is in the gallery and has a white filename, you can be sure it will display correctly on the page.</p></div><h3 id="submitting-the-new-post" tabindex="-1">Submitting the New Post <a class="header-anchor" href="#submitting-the-new-post" aria-label="Permalink to &quot;Submitting the New Post&quot;">​</a></h3><p>When you are done with the post, click the submit button. Depending on how many images you added and how fast your internet is, this may take a while.</p><p>The post is not automatically published though, and needs to be uploaded by the website maintainers first. This is usually done within 24h.</p><h2 id="editing-an-existing-blog-post" tabindex="-1">Editing an Existing Blog Post <a class="header-anchor" href="#editing-an-existing-blog-post" aria-label="Permalink to &quot;Editing an Existing Blog Post&quot;">​</a></h2><p>Unfortunately, you cannot easily edit an existing post from here. However, all posts are stored on GitHub and can be edited there.</p><p>A direct link to the blog file is at the bottom of each blog post.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Blog posts should be related to Eisvana in some way.</p><p>Being a citizen of Eisvana also satisfies this requirement.</p><p>This means that if you&#39;re a citizen, you may also write about your projects in other parts of the universe.</p><p>If you aren&#39;t a citizen, the posts should be strictly related to Eisvana and its regions.</p></div><h2 id="editor" tabindex="-1">Editor <a class="header-anchor" href="#editor" aria-label="Permalink to &quot;Editor&quot;">​</a></h2>',25),He=JSON.parse('{"title":"Create Blog Post","description":"","frontmatter":{"aside":false,"next":false},"headers":[],"relativePath":"blog/create.md","filePath":"blog/create.md","lastUpdated":1711899544000}'),Ee={name:"blog/create.md"},Me=k({...Ee,setup(m){return(s,i)=>(g(),f("div",null,[Ce,b(Be)]))}});export{He as __pageData,Me as default};
